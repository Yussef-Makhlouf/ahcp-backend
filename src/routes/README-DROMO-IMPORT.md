# ูุธุงู ุงุณุชูุฑุงุฏ Dromo ุงููุณุชูู

## ๐ ุงููููุงุช ุงูุฌุฏูุฏุฉ

### `dromo-import.js`
ููู ูุณุชูู ููุฎุตุต ููุนุงูุฌุฉ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ูู Dromo ุจุดูู ูููุตู ุนู ููู `import-export.js` ุงูุฃุณุงุณู.

## ๐ฏ ุงููุฒุงูุง

### 1. **ูุตู ุงูุงูุชูุงูุงุช (Separation of Concerns)**
- ููู ูุฎุตุต ููุท ูู Dromo
- ููุฏ ุฃูุซุฑ ุชูุธููุงู ูุณูููุฉ ูู ุงูุตูุงูุฉ
- ูุง ูุชุฏุงุฎู ูุน ูุธุงุฆู ุงูุงุณุชูุฑุงุฏ ุงูุฃุฎุฑู

### 2. **ูุนุงูุฌุฉ ูุญุณูุฉ ููุจูุงูุงุช**
- ุฏูุงู ูุฎุตุตุฉ ููุนุงูุฌุฉ ุจูุงูุงุช Dromo
- ุฏุนู ุฃูุถู ูุฃุณูุงุก ุงูุญููู ุงููุฎุชููุฉ
- ูุนุงูุฌุฉ ุฐููุฉ ููุชูุงุฑูุฎ ูุงูููู

### 3. **ุฃุฏุงุก ุฃูุถู**
- ูุนุงูุฌุฉ ูุจุงุดุฑุฉ ุจุฏูู middleware ุฅุถุงูู
- ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ููู webhooks
- ุฐุงูุฑุฉ ุฃูู ุงุณุชููุงูุงู

## ๐ง ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ

### `getFieldValue(row, fieldNames)`
- ุงูุจุญุซ ุนู ููู ุงูุญููู ุจุฃุณูุงุก ูุชุนุฏุฏุฉ
- ุฏุนู ุงูุจุญุซ ุบูุฑ ุงูุญุณุงุณ ููุญุงูุฉ
- ุฏุนู ุงูุฃุณูุงุก ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

### `processUnifiedClient(row, userId)`
- ูุนุงูุฌุฉ ุจูุงูุงุช ุงูุนููุงุก
- ุฅูุดุงุก ุนููู ุฌุฏูุฏ ุฃู ุงูุนุซูุฑ ุนูู ููุฌูุฏ
- ุงูุชุญูู ูู ุงูุจูุงูุงุช ุงููุทููุจุฉ

### `processVaccinationRow(row, userId)`
- ูุนุงูุฌุฉ ุตููู ุงูุชุทุนููุงุช
- ุชุญููู ุงูุจูุงูุงุช ุฅูู ูููุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุญูุธ ุงูุณุฌู ูู MongoDB

### `processLaboratoryRow(row, userId)`
- ูุนุงูุฌุฉ ุตููู ุงููุฎุชุจุฑุงุช
- ูุนุงูุฌุฉ ุนุฏุฏ ุงูุฃููุงุน ุงููุฎุชููุฉ
- ุญูุธ ุจูุงูุงุช ุงูุนููุงุช

### `handleDromoImport(Model, processRowFunction)`
- ูุนุงูุฌ ุนุงู ูุฌููุน ุฃููุงุน ุงูุฌุฏุงูู
- ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช
- ุฅุฑุฌุงุน ุชูุงุฑูุฑ ููุตูุฉ

## ๐ฃ๏ธ ุงููุณุงุฑุงุช (Routes)

### ุงูุชุทุนููุงุช
```
POST /import-export/vaccination/import-dromo
```

### ุงููุฎุชุจุฑุงุช
```
POST /import-export/laboratories/import-dromo
```

## ๐ ุชูุณูู ุงูุจูุงูุงุช ุงููุชููุน

### ุงูุชุทุนููุงุช
```json
{
  "serialNo": "1",
  "date": "1-Sep",
  "farmLocation": "ุงุจู ุฎุฑูุท",
  "team": "37974167",
  "supervisor": "M.Tahir",
  "vaccineType": "PPR",
  "vaccineCategory": "Vaccination",
  "sheepTotal": "67",
  "sheepFemale": "78",
  "cattleVaccinated": "90",
  "animalsHandling": "Easy handling",
  "herdHealth": "Healthy",
  "labours": "Available",
  "reachableLocation": "Easy",
  "requestSituation": "Closed"
}
```

### ุงููุฎุชุจุฑุงุช
```json
{
  "sampleCode": "LAB-001",
  "date": "1-Sep",
  "collector": "Lab Tech",
  "sampleType": "Blood",
  "sheep": "10",
  "goats": "5",
  "positiveCases": "2",
  "negativeCases": "13"
}
```

## ๐ ุชุฏูู ุงูุนูู

1. **Dromo** ูุฑุณู ุงูุจูุงูุงุช ุฅูู ุงูู webhook
2. **handleDromoImport** ูุณุชูุจู ุงูุจูุงูุงุช
3. **processRowFunction** ูุนุงูุฌ ูู ุตู
4. **processUnifiedClient** ููุดุฆ/ูุฌุฏ ุงูุนููู
5. **Model.save()** ูุญูุธ ุงูุณุฌู ูู MongoDB
6. **Response** ูุฑุฌุน ุชูุฑูุฑ ุงููุชุงุฆุฌ

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ูุณุชูู ุงูุตู
- ุชุณุฌูู ุงูุฃุฎุทุงุก ููู ุตู ูููุตู
- ูุชุงุจุนุฉ ูุนุงูุฌุฉ ุงูุตููู ุงูุฃุฎุฑู
- ุชูุฑูุฑ ููุตู ุจุงูุฃุฎุทุงุก

### ูุณุชูู ุงููุธุงู
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุดุจูุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ๐ ุงููุฑุงูุจุฉ ูุงูุชุชุจุน

### Console Logs
```javascript
console.log('๐ฏ Dromo import called for: Vaccination');
console.log('๐ Processing 19 rows for Vaccination');
console.log('โ Saved vaccination record: VAC-123 (ObjectId)');
console.log('๐ Total records in Vaccination collection: 150');
```

### Response Format
```json
{
  "success": true,
  "message": "ุชู ุงุณุชูุฑุงุฏ 19 ุณุฌู ุจูุฌุงุญ",
  "insertedCount": 19,
  "totalRows": 19,
  "successRows": 19,
  "errorRows": 0,
  "batchId": "dromo_1697565600000_vaccination",
  "tableType": "vaccination",
  "source": "dromo-webhook"
}
```

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุงููุฎุทุท ุฅุถุงูุชู
- [ ] `processParasiteControlRow`
- [ ] `processMobileClinicRow`
- [ ] `processEquineHealthRow`
- [ ] ุฏุนู ุงูู batch processing
- [ ] ุชุญุณูู ุงูุฃุฏุงุก ูููููุงุช ุงููุจูุฑุฉ
- [ ] ุฅุถุงูุฉ validation ุฃูุซุฑ ุชูุตููุงู

## ๐ง ุงูุตูุงูุฉ

### ุฅุถุงูุฉ ููุน ุฌุฏูู ุฌุฏูุฏ
1. ุฅูุดุงุก ุฏุงูุฉ `processNewTableRow`
2. ุฅุถุงูุฉ route ุฌุฏูุฏ
3. ุชุญุฏูุซ Frontend URLs
4. ุงุฎุชุจุงุฑ ุงูุชูุงูู

### ุชุญุฏูุซ ูุนุงูุฌุฉ ุงูุญููู
1. ุชุญุฏูุซ `getFieldValue` fieldNames
2. ุฅุถุงูุฉ mapping ุฌุฏูุฏ ูู `processEnumValue`
3. ุงุฎุชุจุงุฑ ูุน ุจูุงูุงุช ุญููููุฉ

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ูุฑุงุฌุนุฉ:
- Console logs ูู Backend
- Network tab ูู ุงููุชุตูุญ
- MongoDB logs ููุชุญูู ูู ุญูุธ ุงูุจูุงูุงุช
